│ {"level":"error","ts":1622154422.9076607,"logger":"controller","msg":"Reconciler error","controller":"ingress","name":"simple-ingress","namespace":"default","error":"InvalidParameter: 1 validation error(s) found.\n- minimum field value of 1, CreateTargetGroupInput.Port.\n"}      │
│ {"level":"info","ts":1622154433.1882958,"logger":"controllers.ingress","msg":"successfully built model","model":"{\"id\":\"default/simple-ingress\",\"resources\":{\"AWS::EC2::SecurityGroup\":{\"ManagedLBSecurityGroup\":{\"spec\":{\"groupName\":\"k8s-default-simplein-1414332020\" │
│ ,\"description\":\"[k8s] Managed SecurityGroup for LoadBalancer\",\"ingress\":[{\"ipProtocol\":\"tcp\",\"fromPort\":80,\"toPort\":80,\"ipRanges\":[{\"cidrIP\":\"0.0.0.0/0\"}]}]}}},\"AWS::ElasticLoadBalancingV2::Listener\":{\"80\":{\"spec\":{\"loadBalancerARN\":{\"$ref\":\"#/reso │
│ urces/AWS::ElasticLoadBalancingV2::LoadBalancer/LoadBalancer/status/loadBalancerARN\"},\"port\":80,\"protocol\":\"HTTP\",\"defaultActions\":[{\"type\":\"fixed-response\",\"fixedResponseConfig\":{\"contentType\":\"text/plain\",\"statusCode\":\"404\"}}]}}},\"AWS::ElasticLoadBalanc │
│ ingV2::ListenerRule\":{\"80:1\":{\"spec\":{\"listenerARN\":{\"$ref\":\"#/resources/AWS::ElasticLoadBalancingV2::Listener/80/status/listenerARN\"},\"priority\":1,\"actions\":[{\"type\":\"forward\",\"forwardConfig\":{\"targetGroups\":[{\"targetGroupARN\":{\"$ref\":\"#/resources/AW │
│ S::ElasticLoadBalancingV2::TargetGroup/default/simple-ingress-foo-app-service:3000/status/targetGroupARN\"}}]}}],\"conditions\":[{\"field\":\"host-header\",\"hostHeaderConfig\":{\"values\":[\"foo.jomo.click\"]}},{\"field\":\"path-pattern\",\"pathPatternConfig\":{\"values\":[\"/* │
│ \"]}}]}},\"80:2\":{\"spec\":{\"listenerARN\":{\"$ref\":\"#/resources/AWS::ElasticLoadBalancingV2::Listener/80/status/listenerARN\"},\"priority\":2,\"actions\":[{\"type\":\"forward\",\"forwardConfig\":{\"targetGroups\":[{\"targetGroupARN\":{\"$ref\":\"#/resources/AWS::ElasticLoad │
│ BalancingV2::TargetGroup/default/simple-ingress-bar-app-service:3000/status/targetGroupARN\"}}]}}],\"conditions\":[{\"field\":\"host-header\",\"hostHeaderConfig\":{\"values\":[\"bar.jomo.click\"]}},{\"field\":\"path-pattern\",\"pathPatternConfig\":{\"values\":[\"/*\"]}}]}}},\"AW │
│ S::ElasticLoadBalancingV2::LoadBalancer\":{\"LoadBalancer\":{\"spec\":{\"name\":\"k8s-default-simplein-4927c72b5c\",\"type\":\"application\",\"scheme\":\"internet-facing\",\"ipAddressType\":\"ipv4\",\"subnetMapping\":[{\"subnetID\":\"subnet-029ba115e14fae035\"},{\"subnetID\":\"s │
│ ubnet-03578fd11d371bd1b\"},{\"subnetID\":\"subnet-05f4ccb4b1e1a8f79\"}],\"securityGroups\":[{\"$ref\":\"#/resources/AWS::EC2::SecurityGroup/ManagedLBSecurityGroup/status/groupID\"}]}}},\"AWS::ElasticLoadBalancingV2::TargetGroup\":{\"default/simple-ingress-bar-app-service:3000\": │
│ {\"spec\":{\"name\":\"k8s-default-barappse-ea4745a45b\",\"targetType\":\"instance\",\"port\":0,\"protocol\":\"HTTP\",\"protocolVersion\":\"HTTP1\",\"healthCheckConfig\":{\"port\":\"traffic-port\",\"protocol\":\"HTTP\",\"path\":\"/\",\"matcher\":{\"httpCode\":\"200\"},\"intervalS │
│ econds\":15,\"timeoutSeconds\":5,\"healthyThresholdCount\":2,\"unhealthyThresholdCount\":2}}},\"default/simple-ingress-foo-app-service:3000\":{\"spec\":{\"name\":\"k8s-default-fooappse-89b03830ad\",\"targetType\":\"instance\",\"port\":0,\"protocol\":\"HTTP\",\"protocolVersion\": │
│ \"HTTP1\",\"healthCheckConfig\":{\"port\":\"traffic-port\",\"protocol\":\"HTTP\",\"path\":\"/\",\"matcher\":{\"httpCode\":\"200\"},\"intervalSeconds\":15,\"timeoutSeconds\":5,\"healthyThresholdCount\":2,\"unhealthyThresholdCount\":2}}}},\"K8S::ElasticLoadBalancingV2::TargetGroup │
│ Binding\":{\"default/simple-ingress-bar-app-service:3000\":{\"spec\":{\"template\":{\"metadata\":{\"name\":\"k8s-default-barappse-ea4745a45b\",\"namespace\":\"default\",\"creationTimestamp\":null},\"spec\":{\"targetGroupARN\":{\"$ref\":\"#/resources/AWS::ElasticLoadBalancingV2:: │
│ TargetGroup/default/simple-ingress-bar-app-service:3000/status/targetGroupARN\"},\"targetType\":\"instance\",\"serviceRef\":{\"name\":\"bar-app-service\",\"port\":3000},\"networking\":{\"ingress\":[{\"from\":[{\"securityGroup\":{\"groupID\":{\"$ref\":\"#/resources/AWS::EC2::Secu │
│ rityGroup/ManagedLBSecurityGroup/status/groupID\"}}}],\"ports\":[{\"protocol\":\"TCP\"}]}]}}}}},\"default/simple-ingress-foo-app-service:3000\":{\"spec\":{\"template\":{\"metadata\":{\"name\":\"k8s-default-fooappse-89b03830ad\",\"namespace\":\"default\",\"creationTimestamp\":nul │
│ l},\"spec\":{\"targetGroupARN\":{\"$ref\":\"#/resources/AWS::ElasticLoadBalancingV2::TargetGroup/default/simple-ingress-foo-app-service:3000/status/targetGroupARN\"},\"targetType\":\"instance\",\"serviceRef\":{\"name\":\"foo-app-service\",\"port\":3000},\"networking\":{\"ingress │
│ \":[{\"from\":[{\"securityGroup\":{\"groupID\":{\"$ref\":\"#/resources/AWS::EC2::SecurityGroup/ManagedLBSecurityGroup/status/groupID\"}}}],\"ports\":[{\"protocol\":\"TCP\"}]}]}}}}}}}}"}
